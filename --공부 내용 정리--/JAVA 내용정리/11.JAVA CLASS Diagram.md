# Class diagram

## ğŸ“Œ í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ ê´€ê³„ ì •ë¦¬

### 1. **ì—°ê´€ (Association)**

- **ì„¤ëª…**: ë‘ í´ë˜ìŠ¤ê°€ ì„œë¡œë¥¼ ì°¸ì¡°í•  ë•Œ ì‚¬ìš©.
- **í‘œí˜„**: ì‹¤ì„ 
- **ë°©í–¥**: â†’ ë°©í–¥ í‘œì‹œ ê°€ëŠ¥
- **ì˜ˆì‹œ**:
    
    `í•™ìƒ â†’ í•™êµ` (í•™ìƒì€ í•™êµì— ì†Œì†ë¨)
    

---

### 2. **ì§‘í•©(ì§‘ì•½) (Aggregation)**

- **ì„¤ëª…**: ì „ì²´-ë¶€ë¶„ ê´€ê³„. ë¶€ë¶„ì€ ì „ì²´ì™€ ìƒëª…ì£¼ê¸°ë¥¼ ê³µìœ í•˜ì§€ ì•ŠìŒ (ëŠìŠ¨í•œ ê´€ê³„).
- **í‘œí˜„**: ë¹ˆ ë§ˆë¦„ëª¨ (â—‡)
- **ì˜ˆì‹œ**:
    
    `í•™ê¸‰ â—‡â”€â”€ í•™ìƒ` (í•™ìƒì€ í•™ê¸‰ì— ì†Œì†ë˜ì§€ë§Œ ë…ë¦½ì ìœ¼ë¡œ ì¡´ì¬ ê°€ëŠ¥)
    

---

### 3. **í•©ì„± (Composition)**

- **ì„¤ëª…**: ì „ì²´-ë¶€ë¶„ ê´€ê³„. ë¶€ë¶„ì€ ì „ì²´ì— ì¢…ì†ë¨ (ê°•í•œ ê²°í•©).
- **í‘œí˜„**: ì±„ì›Œì§„ ë§ˆë¦„ëª¨ (â—†)
- **ì˜ˆì‹œ**:
    
    `ì§‘ â—†â”€â”€ ë°©` (ë°©ì€ ì§‘ì´ ì—†ìœ¼ë©´ ì¡´ì¬í•  ìˆ˜ ì—†ìŒ)
    

---

### 4. **ì¼ë°˜í™” (Generalization / Inheritance)**

- **ì„¤ëª…**: ìƒì† ê´€ê³„. ìì‹ í´ë˜ìŠ¤ê°€ ë¶€ëª¨ í´ë˜ìŠ¤ë¥¼ í™•ì¥í•¨.
- **í‘œí˜„**: ë¹ˆ ì‚¼ê°í˜• í™”ì‚´í‘œ
- **ì˜ˆì‹œ**:
    
    `ë™ë¬¼ â–³â”€â”€ ê°œ` (ê°œëŠ” ë™ë¬¼ì´ë‹¤)
    

---

### 5. **ì‹¤ì²´í™” (Realization / Interface Implementation)**

- **ì„¤ëª…**: í´ë˜ìŠ¤ê°€ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•  ë•Œ ì‚¬ìš©.
- **í‘œí˜„**: ì ì„  + ë¹ˆ ì‚¼ê°í˜• í™”ì‚´í‘œ
- **ì˜ˆì‹œ**:
    
    `ë¦¬ëª¨ì½˜ ì¸í„°í˜ì´ìŠ¤ â—â‹¯â‹¯ í…”ë ˆë¹„ì „ í´ë˜ìŠ¤`
    

---

### 6. **ì˜ì¡´ (Dependency)**

- **ì„¤ëª…**: í•œ í´ë˜ìŠ¤ê°€ ë‹¤ë¥¸ í´ë˜ìŠ¤ë¥¼ ì¼ì‹œì ìœ¼ë¡œ ì‚¬ìš©í•  ë•Œ (ë©”ì„œë“œì—ì„œ ì¸ìë¡œ ë°›ê±°ë‚˜ ë‚´ë¶€ì—ì„œ ì‚¬ìš©).
- **í‘œí˜„**: ì ì„  í™”ì‚´í‘œ
- **ì˜ˆì‹œ**:
    
    `ì£¼ë¬¸ â”€â”€â‹¯â†’ ìƒí’ˆ` (ì£¼ë¬¸ì€ ìƒí’ˆ ì •ë³´ë¥¼ ì°¸ì¡°ë§Œ í•¨)
    

## í•µì‹¬ ì •ë¦¬

- **ì—°ê´€ ê´€ê³„ (Association)**:
    
    ë‘ í´ë˜ìŠ¤ê°€ ì„œë¡œë¥¼ ì°¸ì¡°í•˜ëŠ” ì¼ë°˜ì ì¸ ê´€ê³„. ê°ì²´ ê°„ ì—°ê²°ì„ ì˜ë¯¸í•¨.
    
- *ì§‘í•© ê´€ê³„ (Aggregation)**ê³¼ **í•©ì„± ê´€ê³„ (Composition)**ëŠ”
    
    **ì—°ê´€ ê´€ê³„ì˜ íŠ¹ìˆ˜í•œ í˜•íƒœ(í™•ì¥ ê°œë…)**ë¡œ ê°„ì£¼ë¼.
    

## ë¹„ìœ ë¡œ ì´í•´í•´ë³´ê¸°

- **ì§‘ì•½(Aggregation)**:
    
    â†’ ë„ˆë‘ ë„¤ í•¸ë“œí° ê´€ê³„
    
    â†’ ë„ˆ ì—†ì–´ì ¸ë„ í•¸ë“œí°ì€ ë‹¤ë¥¸ ì‚¬ëŒí•œí…Œ ê°ˆ ìˆ˜ ìˆìŒ
    
    â†’ **ë…ë¦½ì **
    
- **í•©ì„±(Composition)**:
    
    â†’ ì¸ê°„ê³¼ ì‹¬ì¥
    
    â†’ ì¸ê°„ì´ ì—†ìœ¼ë©´ ì‹¬ì¥ë„ ì˜ë¯¸ ì—†ìŒ
    
    â†’ **ì¢…ì†ì **
    

## ì •ë¦¬ ë¬¸ì¥

> "ì§‘ì•½ê´€ê³„ì™€ í•©ì„±ê´€ê³„ëŠ” ë‘˜ ë‹¤ ì—°ê´€ê´€ê³„ì˜ íŠ¹ìˆ˜í•œ í˜•íƒœì´ì§€ë§Œ, ìƒëª…ì£¼ê¸°ì˜ ê³µìœ  ì—¬ë¶€ì™€ ì†Œìœ  ê°•ë„ì—ì„œ ë³¸ì§ˆì ì¸ ì°¨ì´ê°€ ìˆë‹¤."
> 

### Main

```java
package Ch35;

import Ch35gun.*;
import Ch35unit.*;

public class Main {
	public static void main(String[] args) {
		Marine marine1 = new Marine();
		marine1.setGun(new Pistol());
		marine1.myGun.reload(100);
		Medic medic1 = new Medic();
		medic1.type = "medic";
		
		
		marine1.setType("marine1");
		Marine marine2 = new Marine();
		marine2.setGun(new Rifle());
		marine2.myGun.reload(100);
		marine2.setType("marine2");
		
		
		
		new Thread() {
			@Override
			public void run() {
				while (true) {
					medic1.Healing(marine1);
					try {
						Thread.sleep(1500);
					} catch (InterruptedException e) {
						// TODO Auto-generated catch block
						e.printStackTrace();
					}
				}
				
			}
		}.start();
		
		new Thread() {
			@Override
			public void run() {
				
			}
		}.start();
		new Thread() {

			@Override
			public void run() {
				while (true) {
					marine1.attack(marine2);
					try {
						Thread.sleep(1000);
					} catch (InterruptedException e) {
						// TODO Auto-generated catch block
						e.printStackTrace();
					}
					
				}
				
			}
			
		}.start();
		
		new Thread() {

			@Override
			public void run() {
				while (true) {
					marine2.attack(marine1);
					try {
						Thread.sleep(1000);
					} catch (InterruptedException e) {
						// TODO Auto-generated catch block
						e.printStackTrace();
					}
				}
				
			}
			
		}.start();;
	}
}

```

### Main2

```java
package Ch35;

import java.util.Scanner;

import Ch35Building.Barrack;
import Ch35unit.Marine;
import Ch35unit.Medic;

public class Main2 {
	// ë°°ëŸ­ ê±´ë¬¼
	static Barrack barrack = null;
	public static void main(String[] args) {
		
		// ê±´ë¬¼ìƒì„±
		new Thread() {

			@Override
			public void run() {
				barrack =new Barrack();
				barrack.buildStructure();
			}
			
		}.start();
		
		Scanner sc = new Scanner(System.in);
		int num=0;
		while(true) {
			System.out.println("1 ë§ˆë¦° ìƒì„±");
			System.out.println("2 ë©”ë”• ìƒì„±");
			System.out.println("3 ì¢…ë£Œ");
			System.out.print("ì…ë ¥ : ");
			num = sc.nextInt();
			switch(num) {
				case 1 :
					Marine marine = barrack.getMarine();
					System.out.println("marine : "+marine);
					break;
				case 2 : 
					Medic medic = barrack.getMedic();
					System.out.println("medic : "+ medic);
					break;
				case 3 : 
					break;
				default :
				
			}
		}
	}
}

```

### Barrack

```java
package Ch35Building;

import java.util.HashMap;
import java.util.Map;

import Ch35unit.Marine;
import Ch35unit.Medic;

public class Barrack extends Building{
	
// ì†ì´ ì°¬ ë‹¤ì´ì•„ëª¬ë“œ	
//	UnitGenerator marine;
//	UnitGenerator medic;
//	public Barrack() {
//		marine = new MarineGenerator();
//		medic = new MedicGenerator();
//	}
	
	// ì†ì´ ë¹ˆ ë‹¤ì´ì•„ëª¬ë“œ
	Map<String,UnitGenerator> generator = new HashMap();
	void setGenerator(UnitGenerator gen, String type) {
		generator.put(type,gen);
	}
	
	public Marine getMarine() {
		if (!isDestroyed) {
			UnitGenerator marinGen = generator.get("marine");
			
			return marinGen!=null?(Marine)marinGen.gen():null;
		}else {
			System.out.println("ê±´ë¬¼ì´ íŒŒê´´ë˜ì—ˆê±°ë‚˜ ì§€ì–´ì§€ëŠ” ì¤‘ì…ë‹ˆë‹¤.");
			return null;
		}
		
	}
	 
	public Medic getMedic() {
		if (!isDestroyed) {
			UnitGenerator medicGen = generator.get("medic");	
			return medicGen!= null ? (Medic)medicGen.gen(): null;
		}else {
			System.out.println("ê±´ë¬¼ì´ íŒŒê´´ë˜ì—ˆê±°ë‚˜ ì§€ì–´ì§€ëŠ” ì¤‘ì…ë‹ˆë‹¤.");
			return null;
		}
		
		
	}
	
	@Override
	public void buildStructure() {
		System.out.println("ê±´ë¬¼ì§“ê¸° ì‹œì‘");
		while (amor < 100 || sheld < 100|| hp<100) {
			try {
				Thread.sleep(300);
				amor++;
				hp++;
				sheld++;
				System.out.printf("ê±´ë¬¼ì§“ê¸°ì¤‘..hp=%d sheld=%d,aror = %d\n");
			} catch (Exception e) {
				// TODO: handle exception
			}
			
		}
		setGenerator(new MarineGenerator(), "marine");
		setGenerator(new MarineGenerator(), "medic");
		
		// ê±´ë¬¼ ìƒì„± ì²˜ë¦¬
		System.out.println("ê±´ë¬¼ ì™„ì„±");
		
	}
	
}
```

### Building

```java
package Ch35Building;

import Ch35unit.*;

public abstract class Building {
	public int hp;
	public int sheld;
	public int amor;
	public boolean isDestroyed;
	
	// ê±´ë¬¼ì§“ê¸°
	abstract void buildStructure();
	
	// ê³µê²©ë‹¹í•¨
	void underAttack(int damage) {
		if (sheld-damage > 0) {
			this.sheld = damage;
		}
		else if (amor - sheld > 0) {
			amor = amor-(damage - sheld);
			sheld =0;
		}
		else if (hp-(damage - amor)>0) {
			hp = hp-(damage-amor);
			amor = 0;
		}else {
			hp=0;
			amor =0;
			isDestroyed = false;
			System.out.println("ê±´ë¬¼ì´ ë¶•ê´´ë˜ì—ˆìŠµë‹ˆë‹¤.");
		}
	}
}

```

### MarineGenerator

```java
package Ch35Building;

import Ch35unit.Marine;
import Ch35unit.Unit;

public class MarineGenerator implements UnitGenerator {

	@Override
	public Unit gen() {
		return new Marine();
	}
	
}

```

### MedicGenerator

```java
package Ch35Building;

import Ch35unit.Marine;
import Ch35unit.Unit;

public class MedicGenerator implements UnitGenerator {

	@Override
	public Unit gen() {
		// TODO Auto-generated method stub
		return new Marine();
	}

}

```

### UnitGenerator

```java
package Ch35Building;

import Ch35unit.Medic;
import Ch35unit.Unit;

public interface UnitGenerator {
	Unit gen();

}

```

### Gun

```java
package Ch35gun;

import Ch35unit.Unit;

public abstract class Gun {
	int maxbuillitCnt;
	int power;
	int curBullitCnt;
	
	public abstract void fire(Unit unit);
	public abstract void reload(int buillit); 
}

```

### Pistol

```java
package Ch35gun;

import Ch35unit.Unit;

public class Pistol extends Gun {
	
	public Pistol(){
		this.power = 20;
		this.maxbuillitCnt=10;
		this.curBullitCnt=0;
	}
	@Override
	public void fire(Unit unit) {
		// TODO Auto-generated method stub
		if (curBullitCnt ==0) {
			System.out.println("ì´ì•Œ 0 ì¬ì¥ì „ í•„ìš”..");
			return ;
		}
		unit.UnderAttack(this.power);
		curBullitCnt--;
		
	}

	@Override
	public void reload(int buillit) {
		// TODO Auto-generated method stub
		if (this.maxbuillitCnt > this.curBullitCnt+buillit) {
			this.curBullitCnt+=buillit;
		}else {
			this.curBullitCnt = maxbuillitCnt;
		}
		
	}
	
}
```

### Rifle

```java
package Ch35gun;

import Ch35unit.Unit;

public class Rifle extends Gun{
	
	public Rifle(){
		this.maxbuillitCnt=100;
		this.power = 30;
	}
	@Override
	public void fire(Unit unit) {
		// TODO Auto-generated method stub
		if (curBullitCnt ==0) {
			System.out.println("ì´ì•Œ 0 ì¬ì¥ì „ í•„ìš”..");
			return ;
		}
		unit.UnderAttack(this.power);
		curBullitCnt--;
		
	}

	@Override
	public void reload(int buillit) {
		// TODO Auto-generated method stub
		if (this.maxbuillitCnt > this.curBullitCnt+buillit) {
			this.curBullitCnt+=buillit;
		}else {
			this.curBullitCnt = maxbuillitCnt;
		}
		
	}

}

```

### Marine

```java
package Ch35unit;

import Ch35gun.*;

public class Marine extends Unit {
	// hp,amor,type
	int base_damage;
	public Gun myGun;
	boolean isDead;
	
	public Marine() {
		isDead = true;
		hp=100;
		amor=100;
	}
	public void setType(String type) {
		this.type = type;
	}
	public void setGun(Gun gun) {
		this.myGun = gun;
	}
	
	public void attack(Unit unit) {
		// base_damage , gun's power
		// unit.underAttactì— ì „ë‹¬
		if (isDead) {
			myGun.fire(unit);
			System.out.println("[ATTACK]"+ this.type+ " ì´" + unit.type+" ì—ê²Œ ê³µê²©í•©ë‹ˆë‹¤.");
		}
		
	}

	@Override
	public void move() {
		// TODO Auto-generated method stub
		
	}

	@Override
	public void UnderAttack(int damage) {
		// TODO Auto-generated method stub
		if (amor - damage >0) {
			this.amor -= damage;
		}else if(hp-(damage-amor) > 0) {
			hp = hp-(damage - amor);
			amor=0;
		}else {
			hp=0;
			amor=0;
			isDead = false;
			System.out.println(this.type+"ì „ì‚¬í–ˆìŠµë‹ˆë‹¤...");
		}
	}
	
}

```

### Medic

```java
package Ch35unit;

public class Medic extends Unit{
	private int HealingPoint;
	
	public Medic() {
		hp=100;
		amor = 100;
		HealingPont = 30;
	}
	public void Healing(Unit unit) {
		unit.hp+=HealingPoint;
		System.out.println(unit.type+" ì„ íšŒë³µì‹œí‚µë‹ˆë‹¤." + unit.type+" ì²´ë ¥ : "+unit.hp);
	}
	void setType(String type) {
		this.type = type;
		
	}
	@Override
	public
	void move() {
		// TODO Auto-generated method stub
		
	}

	@Override
	public
	void UnderAttack(int damage) {
		// TODO Auto-generated method stub
		
	}

}

```

### Unit

```java
package Ch35unit;

public abstract class Unit {
	int hp;
	int amor;
	public String type;
	
	public abstract void move();
	public abstract void UnderAttack(int damage);
}

```
